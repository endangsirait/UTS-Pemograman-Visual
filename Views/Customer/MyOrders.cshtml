@model List<Dealermotor.Models.Order>
@{
    ViewData["Title"] = "Pesanan Saya";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<div class="customer-card">
    <div class="customer-card-header">
        <h4><i class="fas fa-shopping-bag"></i> Pesanan Saya</h4>
    </div>

    @if (Model.Count == 0)
    {
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> Anda belum memiliki pesanan.
        </div>
        <a asp-action="Catalog" class="btn btn-pirate">
            <i class="fas fa-motorcycle"></i> Mulai Belanja
        </a>
    }
    else
    {
        <div class="row">
            @foreach (var order in Model)
            {
                <div class="col-md-12 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-md-2">
                                    <small class="text-muted">Order ID</small>
                                    <p class="mb-0"><strong>#@order.Id.Substring(0, 8)</strong></p>
                                </div>
                                <div class="col-md-2">
                                    <small class="text-muted">Tanggal</small>
                                    <p class="mb-0">@order.OrderDate.ToString("dd MMM yyyy")</p>
                                </div>
                                <div class="col-md-2">
                                    <small class="text-muted">Total</small>
                                    <p class="mb-0 text-success"><strong>Rp @order.TotalAmount.ToString("N0")</strong></p>
                                </div>
                                <div class="col-md-2">
                                    <small class="text-muted">Status</small>
                                    <p class="mb-0">
                                        @if (order.Status == "Pending")
                                        {
                                            <span class="badge bg-warning">Pending</span>
                                        }
                                        else if (order.Status == "Processing")
                                        {
                                            <span class="badge bg-info">Processing</span>
                                        }
                                        else if (order.Status == "Shipped")
                                        {
                                            <span class="badge bg-primary">Shipped</span>
                                        }
                                        else if (order.Status == "Delivered")
                                        {
                                            <span class="badge bg-success">Delivered</span>
                                        }
                                        else
                                        {
                                            <span class="badge bg-danger">Cancelled</span>
                                        }
                                    </p>
                                </div>
                                <div class="col-md-2">
                                    <small class="text-muted">Item</small>
                                    <p class="mb-0">@order.Items.Count motor</p>
                                </div>
                                <div class="col-md-2 text-end">
                                    <a asp-action="MyOrderDetail" asp-route-id="@order.Id" class="btn btn-sm btn-pirate">
                                        <i class="fas fa-eye"></i> Detail
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>