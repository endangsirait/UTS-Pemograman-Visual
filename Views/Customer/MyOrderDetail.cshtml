@model Dealermotor.Models.Order
@{
    ViewData["Title"] = "Detail Pesanan";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
}

<div class="customer-card">
    <div class="customer-card-header">
        <h4><i class="fas fa-receipt"></i> Detail Pesanan #@Model.Id.Substring(0, 8)</h4>
        <a asp-action="MyOrders" class="btn btn-admin-secondary">
            <i class="fas fa-arrow-left"></i> Kembali
        </a>
    </div>

    <div class="row mb-4">
        <div class="col-md-6">
            <h5
                style="color: var(--pirate-gold); font-weight: bold; margin-bottom: 20px; border-bottom: 2px solid var(--pirate-gold); padding-bottom: 10px;">
                <i class="fas fa-info-circle"></i> Informasi Pesanan
            </h5>
            <div style="background: #2d2d2d; border: 2px solid var(--pirate-gold); border-radius: 10px; padding: 20px;">
                <table style="width: 100%;">
                    <tr style="margin-bottom: 10px;">
                        <td width="150" style="color: var(--pirate-gold); padding: 8px 0;"><strong>Order ID:</strong>
                        </td>
                        <td style="color: white; padding: 8px 0;">@Model.Id</td>
                    </tr>
                    <tr style="margin-bottom: 10px;">
                        <td style="color: var(--pirate-gold); padding: 8px 0;"><strong>Tanggal:</strong></td>
                        <td style="color: white; padding: 8px 0;">@Model.OrderDate.ToString("dd MMMM yyyy HH:mm")</td>
                    </tr>
                    <tr style="margin-bottom: 10px;">
                        <td style="color: var(--pirate-gold); padding: 8px 0;"><strong>Status:</strong></td>
                        <td style="padding: 8px 0;">
                            @if (Model.Status == "Pending")
                            {
                                <span class="badge bg-warning">Pending</span>
                            }
                            else if (Model.Status == "Processing")
                            {
                                <span class="badge bg-info">Processing</span>
                            }
                            else if (Model.Status == "Shipped")
                            {
                                <span class="badge bg-primary">Shipped</span>
                            }
                            else if (Model.Status == "Delivered")
                            {
                                <span class="badge bg-success">Delivered</span>
                            }
                            else
                            {
                                <span class="badge bg-danger">Cancelled</span>
                            }
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <h5
            style="color: var(--pirate-gold); font-weight: bold; margin-bottom: 20px; border-bottom: 2px solid var(--pirate-gold); padding-bottom: 10px;">
            <i class="fas fa-box"></i> Item Pesanan
        </h5>
        <div class="table-responsive">
            <table class="table">
                <thead>
                    <tr style="background: var(--pirate-black);">
                        <th style="color: var(--pirate-gold);">Motor</th>
                        <th class="text-center" style="color: var(--pirate-gold);">Jumlah</th>
                        <th class="text-end" style="color: var(--pirate-gold);">Harga</th>
                        <th class="text-end" style="color: var(--pirate-gold);">Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Items != null && Model.Items.Count > 0)
                    {
                        @foreach (var item in Model.Items)
                        {
                            <tr>
                                <td style="color: white; background: #2d2d2d;"><strong>@item.MotorName</strong></td>
                                <td class="text-center" style="color: white; background: #2d2d2d;">@item.Quantity</td>
                                <td class="text-end" style="color: white; background: #2d2d2d;">Rp @item.Price.ToString("N0")
                                </td>
                                <td class="text-end" style="color: var(--pirate-gold); background: #2d2d2d;"><strong>Rp
                                        @((item.Price * item.Quantity).ToString("N0"))</strong></td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="4" class="text-center" style="color: white; background: #2d2d2d;">Tidak ada item
                            </td>
                        </tr>
                    }
                </tbody>
                <tfoot>
                    <tr style="background: rgba(255, 215, 0, 0.2);">
                        <td colspan="3" class="text-end" style="color: white;"><strong>TOTAL:</strong></td>
                        <td class="text-end">
                            <h5 class="text-success mb-0">Rp @Model.TotalAmount.ToString("N0")</h5>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>